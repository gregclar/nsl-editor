<ul class="nav nav-tabs">
  <%
    tabs = product_tab_service.all_available_tabs['author'] || []
    tabs_array = tabs.collect{|tab| tab[:tab] }
  %>

  <%= render partial: 'tab',
    locals: {
      first: true,
      last: false,
      this_tab: 'tab_show_1',
      link_text: 'Details',
      link_id: 'author-show-tab',
      link_title: 'View a summary',
      tab_index: @tab_index,
      prev_tab: '.search-result.show-details',
      next_tab: 'author-edit-tab'
    }
  %>

  <% if can?(:update, @author) && tab_available?(tabs_array, 'edit') %>
    <%= render partial: 'tab',
      locals: {
        first: false,
        last: false,
        this_tab: 'tab_edit',
        link_text: product_tab_text(:author, 'edit', 'Edit'),
        link_id: 'author-edit-tab',
        link_title: 'Edit author.',
        tab_index: increment_tab_index,
        prev_tab: 'author-show-tab',
        next_tab: 'author-comments-tab'
      }
    %>
  <% end %>

  <% if can?('comments', 'update') && tab_available?(tabs_array, 'comments') %>
    <%= render partial: 'tab',
      locals: {
        first: false,
        last: false,
        this_tab: 'tab_comments',
        link_text: product_tab_text(:author, 'comments', 'Comments'),
        link_id: 'author-comments-tab',
        link_title: 'Edit author comments.',
        tab_index: increment_tab_index,
        prev_tab: 'author-edit-tab',
        next_tab: 'author-copy-tab'
      }
    %>
  <% end %>

  <% if can?(:create, @author) && tab_available?(tabs_array, 'copy') %>
    <%= render partial: 'tab',
      locals: {
        first: false,
        last: true,
        this_tab: 'tab_copy',
        link_text: product_tab_text(:author, 'copy', 'Copy'),
        link_id: 'author-copy-tab',
        link_title: 'Copy author',
        tab_index: increment_tab_index,
        prev_tab: 'author-comments-tab',
        next_tab: 'author-show-tab'
      }
    %>
  <% end %>
</ul>
